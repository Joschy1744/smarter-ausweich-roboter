<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="Ip50/._rC1T7q~$O_QNm">l</variable><variable id="#bL*ak1%w3ReO0,AvzJk">r</variable><variable id="#u:Q?];#cIIxyG*-%6mg">invertSensors</variable><variable id=".Mj#;`N|%:SrVpS9/?P6">rawL</variable><variable id=":8M2?Z*2bYj@7Xx1a)_%">PWM_MAX</variable><variable id="xK@%-tqSH^6V0LoCMN#,">rawR</variable><variable id=":C-a#HZQRsAL1RdmU0*J">normL</variable><variable id="T2uvNI^yMwnrH!}*.eO~">normR</variable><variable id="m6:75CEwm_;$biuUCz{S">error</variable><variable id="/|HvkEGN$I20MPay$AM.">turn</variable><variable id="-b03aX}at0ZmrvAG7P]#">Kp</variable><variable id="a2=JK2=KdEU2uc[Jb8)p">turnPWM</variable><variable id="n]K(~$JqK!qp[_FS/Ek3">leftSpeed</variable><variable id="x}(bcdxfadA2AIf_:!0%">baseSpeed</variable><variable id="i$?y/afuBW1#vb{TafVu">rightSpeed</variable><variable id="5ER@eueBp`i=A0e1hL=_">L_line</variable><variable id=":K)FIv?GDFunGo+.b%B[">R_line</variable><variable id="2N6o^3d13O:Kk*kQv|x4">sensorLeftPin</variable><variable id="7e*zjDm1aOX-5g4Gs9vI">sensorRightPin</variable><variable id="%od4]TNysS5Ez!oY:K,X">motorLeftPwmPin</variable><variable id="]6QM0.UtE}8dSF5wB11{">motorLeftDirPin</variable><variable id="xS$WVxJk5nO9YZ9FiZ6(">motorRightPwmPin</variable><variable id="?c/?~dIITiFQAmbRq`BI">motorRightDirPin</variable><variable id="Cvei-S,QA[pwuk.V|xZn">sensorThreshold</variable></variables><comment id="W0m3X}aoS4t{Eek$h2*K" x="0" y="0" w="480" h="120">
Linefollower für Calliope mini V3 + MotionKit 2 (MakeCode – JavaScript)
Anpassbare Parameter oben
</comment><comment id="D3zC$DZ2_v[bbPE6%~G5" x="0" y="0" w="480" h="120">
Bei MotionKit 2 sind die Bewegungs- und Sensorik-Blöcke via Erweiterung verfügbar.
Wir nutzen „analoge Sensorwerte" der Linienfolgesensoren unter der Platine.
</comment><block type="device_button_event" id="5ASriU0S.72b=TPWwZ`t" x="792" y="20"><field name="NAME">Button.A</field><statement name="HANDLER"><block type="typescript_statement" id="lOlc)_+WJzq.9aN|{4;i"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let l = readAnalog(sensorLeftPin)" numlines="1" declaredvars="l"></mutation><next><block type="typescript_statement" id="(:L9$a%u=CMkH1p26cok"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let r = readAnalog(sensorRightPin)" numlines="1" declaredvars="r"></mutation><next><block type="device_print_message" id="GD53DCKO7Xbk|#+oO:oF"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="text"><shadow type="text" id="21=b~hfKc@p:!-Av31WH"><field name="TEXT">L</field></shadow></value><next><block type="device_show_number" id="?zf2q1DSengyB0LWH`$L"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="number"><block type="variables_get" id="^H$qX-$#A5Pi9}v4(:9P"><field name="VAR" id="Ip50/._rC1T7q~$O_QNm">l</field></block></value><next><block type="device_pause" id="9lTnZRN4``qjBKA9}KpI"><value name="pause"><shadow type="timePicker" id="hib`$7?5?OM-WD7_BDvu"><field name="ms">200</field></shadow></value><next><block type="device_print_message" id="1Q+vkv-L1(o89_x}W:p8"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="text"><shadow type="text" id="ap7v!Mq:|{2Ep/oBdmX:"><field name="TEXT">R</field></shadow></value><next><block type="device_show_number" id="c4a/{]%hQs-;;/kZQugG"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="number"><block type="variables_get" id="Sp[Y!S6gvV]*84B^r17`"><field name="VAR" id="#bL*ak1%w3ReO0,AvzJk">r</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_forever" id="tulF@M,l2#CbfKPD?Iqv" x="1168" y="20"><statement name="HANDLER"><block type="typescript_statement" id="bA!!%Bk8^Ezt0@woW,|0"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let rawL = readAnalog(sensorLeftPin)" numlines="1" declaredvars="rawL"></mutation><next><block type="typescript_statement" id="w:x7JP)70#LgNeNshE.o"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let rawR = readAnalog(sensorRightPin)" numlines="1" declaredvars="rawR"></mutation><next><block type="controls_if" id="ITLz81sCbfgtA$|/1Oj5"><value name="IF0"><shadow type="logic_boolean" id="tAF8J-kx7%RzCXqpK@Vi"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="ktl)o}7LqK^Nm7PM=7%7"><field name="VAR" id="#u:Q?];#cIIxyG*-%6mg">invertSensors</field></block></value><statement name="DO0"><block type="variables_set" id="8digTw~sFy*~$t,JH#g9"><field name="VAR" id=".Mj#;`N|%:SrVpS9/?P6">rawL</field><value name="VALUE"><shadow type="math_number" id="^k[SV[:zr.K@~NThjeJL"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="m7l.}[Q,^JI^tBNg~tp_"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="9rnStRKGmvY%~Z33iIlf"><field name="NUM">0</field></shadow><block type="variables_get" id="??i05`Cn*mEyq;3NpnWv"><field name="VAR" id=":8M2?Z*2bYj@7Xx1a)_%">PWM_MAX</field></block></value><value name="B"><shadow type="math_number" id="XGcVv%J}12+uv;.fHxq!"><field name="NUM">0</field></shadow><block type="variables_get" id="k#@xj!ypK^=E3XhXq90;"><field name="VAR" id=".Mj#;`N|%:SrVpS9/?P6">rawL</field></block></value></block></value><next><block type="variables_set" id="azPncMT(yFS{}C#mLc2h"><field name="VAR" id="xK@%-tqSH^6V0LoCMN#,">rawR</field><value name="VALUE"><shadow type="math_number" id="}/B6XfHsv@c_PjXcnh1%"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="%!ais^%fzfhG9u126AkM"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="wOta].S(rGt4W%r(3ZE^"><field name="NUM">0</field></shadow><block type="variables_get" id="uSt5tMKSwcb}%wqX2bQG"><field name="VAR" id=":8M2?Z*2bYj@7Xx1a)_%">PWM_MAX</field></block></value><value name="B"><shadow type="math_number" id="Ug%hf9Ej#cE:FGaoxm%M"><field name="NUM">0</field></shadow><block type="variables_get" id="$T}i=H2=Q~@1z%9jdWJ#"><field name="VAR" id="xK@%-tqSH^6V0LoCMN#,">rawR</field></block></value></block></value></block></next></block></statement><next><block type="typescript_statement" id="R]yQ;iFsQu1I28$I:wWj"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let L_line = rawL &gt; sensorThreshold ? 1 : 0" numlines="1" declaredvars="L_line"></mutation><next><block type="typescript_statement" id="cv-id,_o*!oXkY-)ojyr"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let R_line = rawR &gt; sensorThreshold ? 1 : 0" numlines="1" declaredvars="R_line"></mutation><next><block type="variables_set" id="RqKo)0$bi./U?UU`dF/)"><field name="VAR" id=":C-a#HZQRsAL1RdmU0*J">normL</field><value name="VALUE"><shadow type="math_number" id="Y_G5}*K^Dbmo3D[l+kfj"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="X@buh;].!R.SYsqo%|;u"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number" id="r#M}Q_w.S)RrXfEGxk@G"><field name="NUM">0</field></shadow><block type="variables_get" id="h5C!Dhf^55?q8%,TN@t*"><field name="VAR" id=".Mj#;`N|%:SrVpS9/?P6">rawL</field></block></value><value name="B"><shadow type="math_number" id="KcG:]r?]A7pm(K7QMVno"><field name="NUM">0</field></shadow><block type="variables_get" id="I+yasTZYTPSiR|5JgY@V"><field name="VAR" id=":8M2?Z*2bYj@7Xx1a)_%">PWM_MAX</field></block></value></block></value><next><block type="variables_set" id="ZIs^hX#pQ^PDBvR_d?q:"><field name="VAR" id="T2uvNI^yMwnrH!}*.eO~">normR</field><value name="VALUE"><shadow type="math_number" id="z{=j.%/o`cM{%DyPsdO8"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="Z$OCd7kMavgQO`9Luh8i"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number" id="f-Wl$o~U(%+kS4D{`Zm1"><field name="NUM">0</field></shadow><block type="variables_get" id="Ryab]u)Z38(?*1sV3j.Z"><field name="VAR" id="xK@%-tqSH^6V0LoCMN#,">rawR</field></block></value><value name="B"><shadow type="math_number" id="a6}/*rtl#heMQ.G2.U8K"><field name="NUM">0</field></shadow><block type="variables_get" id="4}g*.`Ijy0`_;cu0W_!:"><field name="VAR" id=":8M2?Z*2bYj@7Xx1a)_%">PWM_MAX</field></block></value></block></value><next><block type="variables_set" id="Qtt6O]I^~lt47bm@,*=P"><field name="VAR" id="m6:75CEwm_;$biuUCz{S">error</field><value name="VALUE"><shadow type="math_number" id="9i-dox3B;52%#wDwc*_`"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="0@e3!USr!N^q2e0+[UWK"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="0JRY4woZT|h:A6b`Tq/~"><field name="NUM">0</field></shadow><block type="variables_get" id="Nfsy+Yl8lf0Gj#G+^P!Y"><field name="VAR" id=":C-a#HZQRsAL1RdmU0*J">normL</field></block></value><value name="B"><shadow type="math_number" id=";Je_2D({mRX-uVbu?F|x"><field name="NUM">0</field></shadow><block type="variables_get" id="]$bShYZ`w$V_XN{kJ,V["><field name="VAR" id="T2uvNI^yMwnrH!}*.eO~">normR</field></block></value></block></value><next><block type="variables_set" id="4PV}3;6f@qviafpH1Ls8"><field name="VAR" id="/|HvkEGN$I20MPay$AM.">turn</field><value name="VALUE"><shadow type="math_number" id="}5Gmi,L$e0Nq2,N-~vz7"><field name="NUM">0</field></shadow><block type="math_arithmetic" id=";urRo2=K%J]HXZIAK]se"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="=!zRD7`vrc3{8%6Jw`XK"><field name="NUM">0</field></shadow><block type="variables_get" id="+v45ZOks58lheq?9v^M%"><field name="VAR" id="-b03aX}at0ZmrvAG7P]#">Kp</field></block></value><value name="B"><shadow type="math_number" id="/CL,anz!xeE^+jKx{BII"><field name="NUM">0</field></shadow><block type="variables_get" id="b=PA@hu[*mCK=EdaSCfV"><field name="VAR" id="m6:75CEwm_;$biuUCz{S">error</field></block></value></block></value><next><block type="variables_set" id="i/`$B[5B@@0tGndwZ$B^"><field name="VAR" id="a2=JK2=KdEU2uc[Jb8)p">turnPWM</field><value name="VALUE"><shadow type="math_number" id="Qn3I|)A8}z^9;|R0`R=~"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="mS%|niea1jZ5Y!SJ[/Ub"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="obtsn#o[M2zgR~@BYOp,"><field name="NUM">0</field></shadow><block type="variables_get" id="Q~-rEJU=ZNWC`-,nFFfi"><field name="VAR" id="/|HvkEGN$I20MPay$AM.">turn</field></block></value><value name="B"><shadow type="math_number" id="nS}9`qib[;6X.~5KUn@,"><field name="NUM">0</field></shadow><block type="variables_get" id="C]tFWVOu+HclH:3Z|Y^0"><field name="VAR" id=":8M2?Z*2bYj@7Xx1a)_%">PWM_MAX</field></block></value></block></value><next><block type="variables_set" id="e;5xxiZTOm*^w[+a|aet"><field name="VAR" id="n]K(~$JqK!qp[_FS/Ek3">leftSpeed</field><value name="VALUE"><shadow type="math_number" id="DJEvFg_eH4XL;c?PWQAb"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="Lu9:i4|7h;JHTko(Gs,j"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="9]HarNB5,]!4UR(s~y^o"><field name="NUM">0</field></shadow><block type="variables_get" id="0J;k@E@=OcVAF_VN5~De"><field name="VAR" id="x}(bcdxfadA2AIf_:!0%">baseSpeed</field></block></value><value name="B"><shadow type="math_number" id="+Z`6N#$=]Bx@?`sPTaSn"><field name="NUM">0</field></shadow><block type="variables_get" id="2c*GX9.fI=7x^PZJ79$n"><field name="VAR" id="a2=JK2=KdEU2uc[Jb8)p">turnPWM</field></block></value></block></value><next><block type="variables_set" id="hR.FT6f#DZ:^o.}$fJh;"><field name="VAR" id="i$?y/afuBW1#vb{TafVu">rightSpeed</field><value name="VALUE"><shadow type="math_number" id="O4DE8a/z1okjr.`rdE=+"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="Nd8hy1-}=M^lkis?H*6z"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="Ow%]R?45@q4nBqmU2,ja"><field name="NUM">0</field></shadow><block type="variables_get" id="~Eg6AKuCvai7f-k(!nrn"><field name="VAR" id="x}(bcdxfadA2AIf_:!0%">baseSpeed</field></block></value><value name="B"><shadow type="math_number" id="D4__~^m^aHX!Q(x!yECk"><field name="NUM">0</field></shadow><block type="variables_get" id="K5FPg#A7IpR[y+kDJ!0R"><field name="VAR" id="a2=JK2=KdEU2uc[Jb8)p">turnPWM</field></block></value></block></value><next><block type="variables_set" id="~}NFh+p#+~YMuvW;263E"><field name="VAR" id="n]K(~$JqK!qp[_FS/Ek3">leftSpeed</field><value name="VALUE"><shadow type="math_number" id="eU^@a7K}~T%#.:!gJ~fI"><field name="NUM">0</field></shadow><block type="function_call_output" id="qEWcpFdneU;nHXamG@m$"><mutation name="clamp" functionid="em[0d0psecPO@2,kXTk6"><arg name="n" id="v92friv3ugope17g9gfo6" type="number"></arg><arg name="min" id="mls0t5pr8yfzwwy6o8j" type="number"></arg><arg name="max" id="wamjn9lhhp7kh0gngfic" type="number"></arg></mutation><value name="v92friv3ugope17g9gfo6"><shadow type="math_number" id="h)Dl}}Xf4eRtDDZy:2k4"><field name="NUM">1</field></shadow><block type="math_js_round" id="hL;{j@0T(j+9}(#J,#q|"><field name="OP">round</field><value name="ARG0"><shadow type="math_number" id="p_9{Q#SKhBv1$U()3NKE"><field name="NUM">0</field></shadow><block type="variables_get" id="?89mj`0T@M@1}1q9]GXL"><field name="VAR" id="n]K(~$JqK!qp[_FS/Ek3">leftSpeed</field></block></value></block></value><value name="mls0t5pr8yfzwwy6o8j"><shadow type="math_number" id="*]Hx}:}#94=@,%gOiX2;"><field name="NUM">1</field></shadow><block type="math_arithmetic" id=";5*UuQ(.DF;ZvQW~OYN)"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="5$UzzkljF=pGuRLI-.#d"><field name="NUM">0</field></shadow></value><value name="B"><shadow type="math_number" id="IYKmYS:f0EAM^EKzy;Rz"><field name="NUM">0</field></shadow><block type="variables_get" id="NyQH(TV/F/[GJ]/Cbl6t"><field name="VAR" id=":8M2?Z*2bYj@7Xx1a)_%">PWM_MAX</field></block></value></block></value><value name="wamjn9lhhp7kh0gngfic"><shadow type="math_number" id="RD-efsszCIwe+$Sb(E$%"><field name="NUM">1</field></shadow><block type="variables_get" id="CYVLURo_bU2tnu|$=|(Y"><field name="VAR" id=":8M2?Z*2bYj@7Xx1a)_%">PWM_MAX</field></block></value></block></value><next><block type="variables_set" id="o]z`6Im_Um{-{I[TQuYY"><field name="VAR" id="i$?y/afuBW1#vb{TafVu">rightSpeed</field><value name="VALUE"><shadow type="math_number" id=".Pg-`)(u8{Z=Hi^^%ba8"><field name="NUM">0</field></shadow><block type="function_call_output" id="*|0i.G)a6_YQ=7YYU{KF"><mutation name="clamp" functionid="em[0d0psecPO@2,kXTk6"><arg name="n" id="v92friv3ugope17g9gfo6" type="number"></arg><arg name="min" id="mls0t5pr8yfzwwy6o8j" type="number"></arg><arg name="max" id="wamjn9lhhp7kh0gngfic" type="number"></arg></mutation><value name="v92friv3ugope17g9gfo6"><shadow type="math_number" id="67c4H=+p-sAV_/QrRUl|"><field name="NUM">1</field></shadow><block type="math_js_round" id="3xSQyvA2:Knm03`z^S.O"><field name="OP">round</field><value name="ARG0"><shadow type="math_number" id="JytF^A-Xs-tDTPYbVNvs"><field name="NUM">0</field></shadow><block type="variables_get" id="6`PY9y(Kz72deHomA(0$"><field name="VAR" id="i$?y/afuBW1#vb{TafVu">rightSpeed</field></block></value></block></value><value name="mls0t5pr8yfzwwy6o8j"><shadow type="math_number" id="R4*~52-nUAZY|U=a(M^#"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="D?pzgNMj?IVW0Dv29JBK"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="Zf2]eQ^O.N`tr2wgvxF3"><field name="NUM">0</field></shadow></value><value name="B"><shadow type="math_number" id="kMZNi.PZ9sWptGu{g}2d"><field name="NUM">0</field></shadow><block type="variables_get" id="fR-dkoHYfe@bkMLg?Fey"><field name="VAR" id=":8M2?Z*2bYj@7Xx1a)_%">PWM_MAX</field></block></value></block></value><value name="wamjn9lhhp7kh0gngfic"><shadow type="math_number" id="i~_x/hV*{`;MEe^8Nqsp"><field name="NUM">1</field></shadow><block type="variables_get" id="0@prfhOEA5Pk:B:n;%~="><field name="VAR" id=":8M2?Z*2bYj@7Xx1a)_%">PWM_MAX</field></block></value></block></value><next><block type="controls_if" id="iWGkzmOe9KH9FNPFt[vG"><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean" id="/gV#v#dzzURTM%wt3)o["><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="[e(+VAL1jAe_K:f~q]i{"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean" id="UK^z*Gadotan1189wZc@"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="^i:K84wZb`h+au`;l)u?"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="h;tN/]P30L5vOoy9};fe"><field name="NUM">0</field></shadow><block type="variables_get" id="qNCeos@3t@uJ5=Y9?V|;"><field name="VAR" id="5ER@eueBp`i=A0e1hL=_">L_line</field></block></value><value name="B"><shadow type="math_number" id="{0+Wr!,mg_yNDu3uQTwN"><field name="NUM">0</field></shadow></value></block></value><value name="B"><shadow type="logic_boolean" id=",%nG@d5t$y/-vjn+6?OK"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="qcXkL!#@k~1tPyhnEkxO"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="3}v#MD^0**pLrf6|_QwE"><field name="NUM">0</field></shadow><block type="variables_get" id="-L6=7]E?gmKbGiq;Z-A2"><field name="VAR" id=":K)FIv?GDFunGo+.b%B[">R_line</field></block></value><value name="B"><shadow type="math_number" id="hVH[R4:Z]Na5E$j4m$(*"><field name="NUM">0</field></shadow></value></block></value></block></value><statement name="DO0"><block type="typescript_statement" id="O{Su7)![xf6SG%+z#)D8"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="setMotor(motorLeftPwmPin, motorLeftDirPin, 0)" numlines="1"></mutation><next><block type="typescript_statement" id="6s5WXoH)dnA!y{w9n#tQ"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="setMotor(motorRightPwmPin, motorRightDirPin, 0)" numlines="1"></mutation><next><block type="device_pause" id="d-my`Y^6[StNDT[|=F4^"><value name="pause"><shadow type="timePicker" id="oCsK#6tjTv/LYE$@I%AU"><field name="ms">50</field></shadow></value><next><block type="typescript_statement" id="1_).mHq*L?+6O9@{!on7"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="setMotor(motorLeftPwmPin, motorLeftDirPin, -200)" numlines="1"></mutation><next><block type="typescript_statement" id="o7T+Dfz_?mDzunC*$@x]"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="setMotor(motorRightPwmPin, motorRightDirPin, 200)" numlines="1"></mutation><next><block type="device_pause" id="6b_B;9Gcw0D866o9S,Mn"><value name="pause"><shadow type="timePicker" id="-J?%=ENLeIgO-id85?6w"><field name="ms">80</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement><statement name="ELSE"><block type="typescript_statement" id="{rU`?f/JN-0bds8xLI9f"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="setMotor(motorLeftPwmPin, motorLeftDirPin, leftSpeed)" numlines="1"></mutation><next><block type="typescript_statement" id="E,%=h-rP#dgZ;uiA5Fak"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="setMotor(motorRightPwmPin, motorRightDirPin, rightSpeed)" numlines="1"></mutation></block></next></block></statement><next><block type="device_pause" id="~!1`yHTZ.l!qCx(vI.WT"><value name="pause"><shadow type="timePicker" id="lx3l;[5G]CHwQQANp7p?"><field name="ms">10</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="pxt-on-start" id="C@-nWO[H~a`A^26~=z/n" x="42" y="129"><statement name="HANDLER"><block type="typescript_statement" id="]YiF+Io(/ij$m,)E!|wh"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let invertSensors = false" numlines="1" declaredvars="invertSensors"></mutation><next><block type="variables_set" id="%fpP)9iGDl!~R/*BA~}."><field name="VAR" id="2N6o^3d13O:Kk*kQv|x4">sensorLeftPin</field><comment pinned="false" h="80" w="160">linker Linienfolgesensor (Unterseite) – analog</comment><data>0;1</data><value name="VALUE"><shadow type="math_number" id="-Gedw1cIjAl#?ZB|y+wZ"><field name="NUM">0</field></shadow><block type="analog_pin" id="U*l7=^;=K[]EM,77:KBf"><field name="pin">AnalogPin.P0</field></block></value><next><block type="variables_set" id="KbHf~]D/ZnHW$T-tD{Ah"><field name="VAR" id="7e*zjDm1aOX-5g4Gs9vI">sensorRightPin</field><comment pinned="false" h="80" w="160">rechter Linienfolgesensor – analog</comment><value name="VALUE"><shadow type="math_number" id="n8Pms}X]q.|@_gVx8g_8"><field name="NUM">0</field></shadow><block type="analog_pin" id="WH/xFWGCWV;5T2yWe}0n"><field name="pin">AnalogPin.P1</field></block></value><next><block type="variables_set" id="lLqu@HXTz5LM58K?F2e-"><field name="VAR" id="%od4]TNysS5Ez!oY:K,X">motorLeftPwmPin</field><comment pinned="false" h="80" w="160">PWM Pin für linken Motor – an MotionKit Platine</comment><value name="VALUE"><shadow type="math_number" id="5SV]tw+SWjIl+dq0MG:4"><field name="NUM">0</field></shadow><block type="analog_pin" id=",FdJ[0h6me~4a2d5c=*)"><field name="pin">AnalogPin.P8</field></block></value><next><block type="variables_set" id="kSE;}U59KMj8QrgyR{9)"><field name="VAR" id="]6QM0.UtE}8dSF5wB11{">motorLeftDirPin</field><comment pinned="false" h="80" w="160">Richtung Pin links</comment><value name="VALUE"><shadow type="math_number" id="7x6,*/7.05SP(Ir=[@8@"><field name="NUM">0</field></shadow><block type="digital_pin" id="5lqvlCY{CN`)Mi7]91j$"><field name="pin">DigitalPin.P12</field></block></value><next><block type="variables_set" id="W$}ul-7~hk9t1JH^Y*GR"><field name="VAR" id="xS$WVxJk5nO9YZ9FiZ6(">motorRightPwmPin</field><comment pinned="false" h="80" w="160">PWM Pin für rechten Motor</comment><value name="VALUE"><shadow type="math_number" id="q?cTPt[Q^dHxX94$I3Xu"><field name="NUM">0</field></shadow><block type="analog_pin" id="8!QPwuu-$~!RV~)a7Sdd"><field name="pin">AnalogPin.P2</field></block></value><next><block type="variables_set" id="$7D,8]Z$k@UZiC})#$GD"><field name="VAR" id="?c/?~dIITiFQAmbRq`BI">motorRightDirPin</field><comment pinned="false" h="80" w="160">Richtung Pin rechts</comment><value name="VALUE"><shadow type="math_number" id="4Q)]bqDu@M[ubFAf5X:{"><field name="NUM">0</field></shadow><block type="digital_pin" id="W{6^T`#6ak3ajLtbqN#X"><field name="pin">DigitalPin.P13</field></block></value><next><block type="variables_set" id="Hw,Q6MHJS;A)9IwrZ/cF"><field name="VAR" id=":8M2?Z*2bYj@7Xx1a)_%">PWM_MAX</field><value name="VALUE"><shadow type="math_number" id="i5a,j7ws!}YQg9!:E}+I"><field name="NUM">1023</field></shadow></value><next><block type="variables_set" id="j/H%iquW,c+[}:tlx[}|"><field name="VAR" id="x}(bcdxfadA2AIf_:!0%">baseSpeed</field><comment pinned="false" h="80" w="160">Regelungsparameter</comment><value name="VALUE"><shadow type="math_number" id="RxYp3ZU5WxXbM,^%M)Dz"><field name="NUM">400</field></shadow></value><next><block type="variables_set" id="zZ!D:mwkIm)VXUql!kG:"><field name="VAR" id="-b03aX}at0ZmrvAG7P]#">Kp</field><value name="VALUE"><shadow type="math_number" id="W.rQQRkCU2EdEWFn:l8k"><field name="NUM">0.8</field></shadow></value><next><block type="variables_set" id="Z*PSa,.B}xOl~tG5+6vB"><field name="VAR" id="Cvei-S,QA[pwuk.V|xZn">sensorThreshold</field><value name="VALUE"><shadow type="math_number" id="?:b^U+E{^gjZE?opEK2e"><field name="NUM">600</field></shadow></value><next><block type="typescript_statement" id="I7ldIVtSF7Gpe.:y,pOk"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function readAnalog(pin: AnalogPin): number {" line1="    return pins.analogReadPin(pin)" line2="}" numlines="3"></mutation><next><block type="typescript_statement" id="M-s]j19Y@Ehf|Ui^$TL:"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function writeAnalog(pin: AnalogPin, value: number): void {" line1="    value = clamp(Math.round(value), 0, PWM_MAX)" line2="    pins.analogWritePin(pin, value)" line3="}" numlines="4"></mutation><next><block type="typescript_statement" id=")-:X}~%IMRi]j{HrTTz="><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function writeDigital(pin: DigitalPin, value: number): void {" line1="    pins.digitalWritePin(pin, value)" line2="}" numlines="3"></mutation><next><block type="typescript_statement" id="!8F[VRf2@E(U?ko2-c;M"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function setMotor(pwmPin: AnalogPin, dirPin: DigitalPin, speed: number): void {" line1="    speed = clamp(speed, -PWM_MAX, PWM_MAX)" line2="    if (speed &gt;= 0) {" line3="        writeDigital(dirPin, 0)" line4="        writeAnalog(pwmPin, speed)" line5="    } else {" line6="        writeDigital(dirPin, 1)" line7="        writeAnalog(pwmPin, -speed)" line8="    }" line9="}" numlines="10"></mutation><next><block type="typescript_statement" id="sn2tEXz$7DiWFcHQ=ct-"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function readSensorNorm(pin: AnalogPin): number {" line1="    let raw = readAnalog(pin)" line2="    if (invertSensors) raw = PWM_MAX - raw" line3="    return raw / PWM_MAX" line4="}" numlines="5"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="$K,)b{:lUS/Ng9F66u?O" x="2180" y="20"><mutation name="clamp" functionid="em[0d0psecPO@2,kXTk6"><arg name="n" id="v92friv3ugope17g9gfo6" type="number"></arg><arg name="min" id="mls0t5pr8yfzwwy6o8j" type="number"></arg><arg name="max" id="wamjn9lhhp7kh0gngfic" type="number"></arg></mutation><field name="function_name">clamp</field><value name="v92friv3ugope17g9gfo6"><block type="argument_reporter_number" id="U@SKlXAZ8%A[6ae1O$[-"><mutation duplicateondrag="true"></mutation><field name="VALUE">n</field></block></value><value name="mls0t5pr8yfzwwy6o8j"><block type="argument_reporter_number" id="EHand5e.,WBsDgl/(dEk"><mutation duplicateondrag="true"></mutation><field name="VALUE">min</field></block></value><value name="wamjn9lhhp7kh0gngfic"><block type="argument_reporter_number" id="N|A7CHWK($sgw4.!ne$}"><mutation duplicateondrag="true"></mutation><field name="VALUE">max</field></block></value><statement name="STACK"><block type="controls_if" id="ki:!XKk}IQjp9DxfJ*Lz"><value name="IF0"><shadow type="logic_boolean" id="@775~%}dy~GSZmV4jZE`"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="X1TDZs9yZ/^,(y]}GexQ"><field name="OP">LT</field><value name="A"><shadow type="math_number" id="JnK::=|J]ZuBZ=qe#=vY"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="3K^OV-u05nq%mdl/nBDh"><field name="VALUE">n</field></block></value><value name="B"><shadow type="math_number" id="9W}BXAZgm0V*3Qz8|#.v"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="-aZ48S_MPLI%[;Cu)Br-"><field name="VALUE">min</field></block></value></block></value><statement name="DO0"><block type="function_return" id="Bz@mS3oHf4jpk[^2{%{;"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number" id="-m;lu?^a-?fD]yph`@oN"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="zNH]K6KQQ*PO[-ofx=40"><field name="VALUE">min</field></block></value></block></statement><next><block type="controls_if" id="|063bFMAeAHx,RJ|_A#M"><value name="IF0"><shadow type="logic_boolean" id="*:0}}NF^~`EKQprig5%8"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="mPiAS]cufWGHWg?$-Xd!"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="UI3TiG-I]a,3s)pXgnN!"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="jwGL{CKf,u5}q3{BBJNx"><field name="VALUE">n</field></block></value><value name="B"><shadow type="math_number" id="$!jeGu_])9V%[|6v#PFr"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="f.wJ%IY$i{,PxH5#**,V"><field name="VALUE">max</field></block></value></block></value><statement name="DO0"><block type="function_return" id="8kb(bwQGs=P{84,k`/ha"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number" id="e;f$?av7T)y$BjAnX,Pw"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="c#d/LlcfiEi.1N2VGWx-"><field name="VALUE">max</field></block></value></block></statement><next><block type="function_return" id="g8GHvjU=Ntu%VxY0}H[["><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number" id="IAHzc[wx2(fQY(`-(Eg7"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="Az2nH)q-q5J*UC,i0;]W"><field name="VALUE">n</field></block></value></block></next></block></next></block></statement></block></xml>